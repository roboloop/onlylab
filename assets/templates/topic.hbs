<div class="container-fluid">
    <div class="row">
        <div class="col-sm-2">

        </div>
        <div class="col-sm-8">
            {{#if parsedTitle.title }}
                <h2>{{ parsedTitle.title }}</h2>
                <span class="subheading">
                    {{ parsedTitle.rawTitle }}
                </span>
            {{ else }}
                <h2>{{ parsedTitle.rawTitle }}</h2>
            {{/if}}

            <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
                <ol class="carousel-indicators">
                    {{#each images as |image|}}
                        {{#if @first }}
                            <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                        {{ else }}
                            <li data-target="#carouselExampleIndicators" data-slide-to="{{ @index }}"></li>
                        {{/if}}
                    {{/each}}
                </ol>
                <div class="carousel-inner">
                    {{! TODO: refactor}}
                    {{#each images as |image|}}
                        {{#if @first }}
                            <div class="carousel-item active">
                                {{#if image.original }}
                                    <img class="d-block w-100" src="{{ image.original }}" alt="">
                                {{ else }}
                                    <img class="d-block w-100" src="{{ image.frontUrl }}" alt="">
                                {{/if}}
                            </div>
                        {{ else }}
                            <div class="carousel-item">
                                {{#if image.original }}
                                    <img class="d-block w-100" src="{{ image.original }}" alt="">
                                {{ else }}
                                    <img class="d-block w-100" src="{{ image.frontUrl }}" alt="">
                                {{/if}}
                            </div>
                        {{/if}}
                    {{/each}}

                    <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="sr-only">Previous</span>
                    </a>
                    <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="sr-only">Next</span>
                    </a>
                </div>
            </div>

        </div>
        <div class="col-sm-2">
            <h5>Options</h5>

            <form action="/topics/{{ id }}/reload" method="POST">
                <button type="submit" class="btn btn-info btn-sm btn-outline-primary">Reload</button>
            </form>

            <ul class="nav flex-column">
                {{! TODO: Direct link }}
                <li class="nav-item"><a href="{{ id }}">Link</a></li>
            </ul>
            <br>

            <h5>Info</h5>
            {{#if parsedTitle.quality }}
                <ul class="nav flex-column">
                    <li class="nav-item">{{ parsedTitle.quality }}</li>
                </ul>
            {{ else }}
                <i>no info</i>
            {{/if}}
            <br>

            {{#if related }}
            <h5>Related</h5>
            <ul class="nav flex-column">
                {{#each related as |related|}}
                    <li class="nav-item">
                        <a href="/topics/{{ related.id }}">{{ related.quality }}</a>
                    </li>
                {{/each}}
            </ul>
            <br>
            {{/if}}

            <h5>Genres</h5>
            <ul class="nav flex-column">
                {{#each genres as |genre|}}
                    <li class="nav-item">
                        <a href="/genres/{{ genre.id }}">{{ genre.title }}</a>
                    </li>
                {{/each}}
            </ul>
            <br>

            <h5>Studios</h5>
            <ul class="nav flex-column">
                {{#each studios as |studio|}}
                    <li class="nav-item"><a href="/studios/{{ studio.id }}">{{ studio.url }}</a></li>
                {{/each}}
            </ul>
        </div>
    </div>
</div>
